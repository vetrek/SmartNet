---
phase: 07-readme-overhaul
plan: 01
type: execute
---

<objective>
Create a concise, developer-friendly README that showcases SmartNet's full feature set and differentiators.

Purpose: Attract developers to the library by clearly communicating value and providing easy onboarding.
Output: Polished README.md with quick start, feature showcase, and all three programming paradigms.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06-api-polish-pass/06-01-SUMMARY.md
@README.md
@Source/Core/PathMatcher.swift
@Source/Core/RetryPolicy.swift
@Source/Endpoint/Endpoint.swift
@Source/Core/ApiClient+Middleware.swift
@Source/Endpoint/MultipartFormEndpoint.swift

**Current README Issues:**
- Missing v1.0 features (PathMatcher, RetryPolicy, HTTPPayload)
- Uses deprecated `pathComponent` instead of new `pathMatcher`
- Has typos ("string" should be "String" in example code)
- Missing feature badges, platform requirements
- Middleware examples show throwing errors instead of practical use cases
- No mention of typed throws, EndpointBuilder, or other modern features
- Missing retry policy documentation

**Key v1.0 Features to Showcase:**
- PathMatcher system: `.contains()`, `.exact()`, `.wildcard()`, `.glob()`, `.regex()`
- Retry policies: exponential backoff, linear, immediate, none
- RetryCondition flags for fine-grained control
- HTTPPayload enum for body encoding
- @MultipartBuilder result builder
- EndpointBuilder<T> fluent API
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rewrite README structure and quick start</name>
  <files>README.md</files>
  <action>
Rewrite README.md with this structure:

1. **Header Section:**
   - Title with tagline: "SmartNet - Type-safe Swift HTTP networking"
   - Platform badges (iOS 13+, macOS 10.15+, Swift 5.5+)
   - SPM compatible badge
   - Brief value proposition (2-3 sentences max)

2. **Features Section (bulleted, concise):**
   - Three programming paradigms (async/await, Combine, closures)
   - Type-safe generic endpoints: `Endpoint<T>`
   - Flexible path matching: exact, wildcard, glob, regex
   - Configurable retry policies with exponential backoff
   - Middleware system for request/response interception
   - File upload/download with progress tracking
   - Zero external dependencies
   - Thread-safe by design

3. **Quick Start:**
   - Installation (SPM only - remove CocoaPods, it's outdated)
   - Minimal working example (5-10 lines):
     ```swift
     let client = ApiClient(config: NetworkConfiguration(
         baseURL: URL(string: "https://api.example.com")!
     ))

     struct User: Codable { let id: Int; let name: String }

     let user: User = try await client.request(
         with: Endpoint(path: "users/1")
     )
     ```

4. **Usage Sections (concise examples):**
   - Configuration (basic + headers/timeout)
   - All three paradigms (async, Combine, closures) - one code block each
   - Endpoints (GET with query params, POST with body)

Keep examples realistic and fix all typos (use `String` not `string`).
  </action>
  <verify>README.md exists with updated structure, no typos in code examples, SPM badge visible</verify>
  <done>README has header/badges, feature list, quick start, and basic usage sections</done>
</task>

<task type="auto">
  <name>Task 2: Add advanced features documentation</name>
  <files>README.md</files>
  <action>
Add remaining sections to README.md after the basic usage:

5. **Retry Policies Section:**
   - Brief explanation of automatic retry behavior
   - Built-in policies: ExponentialBackoffRetryPolicy (default), LinearBackoffRetryPolicy, ImmediateRetryPolicy, NoRetryPolicy
   - Example of custom retry configuration:
     ```swift
     let endpoint = Endpoint<User>(path: "users/1")
         .retryPolicy(ExponentialBackoffRetryPolicy(
             maxRetries: 5,
             conditions: [.timeout, .connectionLost, .serverError]
         ))
     ```
   - RetryCondition flags: `.timeout`, `.connectionLost`, `.networkFailure`, `.serverError`, `.rateLimited`, `.dnsFailure`

6. **Middleware Section (UPDATED to use PathMatcher):**
   - Global middleware example using `PathMatcher.contains("/")`
   - Path-specific middleware with new PathMatcher API
   - Show practical examples (auth token injection, logging):
     ```swift
     client.addMiddleware(
         ApiClient.Middleware(
             pathMatcher: PathMatcher.contains("/"),
             preRequestCallback: { request in
                 var req = request
                 req.setValue("Bearer \(token)", forHTTPHeaderField: "Authorization")
                 return req
             }
         )
     )
     ```
   - Pattern matching options table: `.contains()`, `.exact()`, `.wildcard()`, `.glob()`, `.regex()`

7. **File Operations Section:**
   - Upload with @MultipartBuilder (concise example)
   - Download with progress tracking

8. **Error Handling Section (brief):**
   - NetworkError cases overview
   - Example of typed error handling

9. **Footer:**
   - License (if applicable)
   - "Projects using SmartNet" - keep YourVPN reference
  </action>
  <verify>README has retry, middleware (with PathMatcher), file operations, and error handling sections</verify>
  <done>README is complete with all advanced features documented using modern API patterns</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] README.md has all 9 sections as specified
- [ ] All code examples compile (check syntax manually)
- [ ] No deprecated `pathComponent` usage - uses `pathMatcher` throughout
- [ ] No typos in code (String not string, correct method names)
- [ ] PathMatcher factory methods documented: contains, exact, wildcard, glob, regex
- [ ] Retry policies documented with conditions
- [ ] Build still succeeds: `swift build`
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- README is concise, scannable, and developer-friendly
- All v1.0 features (PathMatcher, RetryPolicy) are documented
- No deprecated APIs shown in examples
  </success_criteria>

<output>
After completion, create `.planning/phases/07-readme-overhaul/07-01-SUMMARY.md`:

# Phase 7 Plan 1: README Overhaul Summary

**[Substantive one-liner about what changed]**

## Accomplishments

- [Key outcome 1]
- [Key outcome 2]

## Files Created/Modified

- `README.md` - Complete rewrite with modern API examples

## Decisions Made

[Documentation choices made]

## Issues Encountered

[Any challenges, or "None"]

## Next Phase Readiness

Phase 7 complete, ready for Phase 8: In-Code Documentation
</output>
